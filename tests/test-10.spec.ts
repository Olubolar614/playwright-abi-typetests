import { test, expect } from '@playwright/test';

test('test', async ({ page }) => {
  await page.goto('https://www.booking.com/index.en-gb.html?label=gen173nr-1BCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQGIAgGoAgO4Aq2glqsGwAIB0gIkYWYyOTAwNGYtMTFjOS00NjgwLWJmMGItMzQxYjM4ODM1NGY42AIF4AIB&sid=586acd3f6fde3113ad886c4f095b3580&keep_landing=1&sb_price_type=total&');
  await page.getByRole('button', { name: 'Accept' }).click();
  await page.getByPlaceholder('Where are you going?').click();
  await page.getByPlaceholder('Where are you going?').fill('new york');
  await page.getByRole('button', { name: 'New York New York State,' }).click();
  await page.getByLabel('18 December').click();
  await page.getByLabel('27 December').click();
  await page.getByTestId('occupancy-config').click();
  await page.locator('div').filter({ hasText: /^2$/ }).locator('button').first().click();
  await page.getByRole('button', { name: 'Search' }).click();
  await page.getByLabel('Dismiss sign in information.').click();
  await page1.goto('https://www.booking.com/searchresults.en-gb.html?ss=New+York%2C+New+York+State%2C+United+States&label=gen173nr-1BCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQGIAgGoAgO4Aq2glqsGwAIB0gIkYWYyOTAwNGYtMTFjOS00NjgwLWJmMGItMzQxYjM4ODM1NGY42AIF4AIB&sid=586acd3f6fde3113ad886c4f095b3580&aid=304142&lang=en-gb&sb=1&src_elem=sb&src=index&dest_id=20088325&dest_type=city&ac_position=0&ac_click_type=b&ac_langcode=en&ac_suggestion_list_length=5&search_selected=true&search_pageview_id=05683156527a020d&ac_meta=GhAwNTY4MzE1NjUyN2EwMjBkIAAoATICZW46CG5ldyB5b3JrQABKAFAA&checkin=2023-12-18&checkout=2023-12-27&group_adults=1&no_rooms=1&group_children=0&sb_travel_purpose=leisure&track_hp_back_button=1#hotel_270216-back');
  await page1.goto('https://www.booking.com/hotel/us/hi-new-york-hostel-nyc.en-gb.html?aid=304142&label=gen173nr-1FCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQH4AQyIAgGoAgO4Aq2glqsGwAIB0gIkYWYyOTAwNGYtMTFjOS00NjgwLWJmMGItMzQxYjM4ODM1NGY42AIG4AIB&sid=586acd3f6fde3113ad886c4f095b3580&all_sr_blocks=27021613_91470541_0_0_0;checkin=2023-12-18;checkout=2023-12-27;dest_id=20088325;dest_type=city;dist=0;group_adults=1;group_children=0;hapos=1;highlighted_blocks=27021613_91470541_0_0_0;hpos=1;matching_block_id=27021613_91470541_0_0_0;no_rooms=1;req_adults=1;req_children=0;room1=A;sb_price_type=total;sr_order=popularity;sr_pri_blocks=27021613_91470541_0_0_0__67230;srepoch=1701154991;srpvid=ce06317abd27008e;type=total;ucfs=1&');
  await page1.goto('https://www.booking.com/hotel/us/hi-new-york-hostel-nyc.en-gb.html?aid=304142&label=gen173nr-1FCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQH4AQyIAgGoAgO4Aq2glqsGwAIB0gIkYWYyOTAwNGYtMTFjOS00NjgwLWJmMGItMzQxYjM4ODM1NGY42AIG4AIB&sid=586acd3f6fde3113ad886c4f095b3580&all_sr_blocks=27021613_91470541_0_0_0;checkin=2023-12-18;checkout=2023-12-27;dest_id=20088325;dest_type=city;dist=0;group_adults=1;group_children=0;hapos=1;highlighted_blocks=27021613_91470541_0_0_0;hpos=1;matching_block_id=27021613_91470541_0_0_0;no_rooms=1;req_adults=1;req_children=0;room1=A;sb_price_type=total;sr_order=popularity;sr_pri_blocks=27021613_91470541_0_0_0__67230;srepoch=1701154991;srpvid=ce06317abd27008e;type=total;ucfs=1&#hotelTmpl');
  await page1.locator('#hp_book_now_button').click();
  await page1.goto('https://secure.booking.com/book.html?hotel_id=270216&aid=304142&label=gen173nr-1FCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQH4AQyIAgGoAgO4Aq2glqsGwAIB0gIkYWYyOTAwNGYtMTFjOS00NjgwLWJmMGItMzQxYjM4ODM1NGY42AIG4AIB&sid=586acd3f6fde3113ad886c4f095b3580&room1=A&error_url=%2Fhotel%2Fus%2Fhi-new-york-hostel-nyc.en-gb.html%3Faid%3D304142%26label%3Dgen173nr-1FCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQH4AQyIAgGoAgO4Aq2glqsGwAIB0gIkYWYyOTAwNGYtMTFjOS00NjgwLWJmMGItMzQxYjM4ODM1NGY42AIG4AIB%26sid%3D586acd3f6fde3113ad886c4f095b3580%26srpvid%3Dce06317abd27008e%26%26&hostname=www.booking.com&stage=1&checkin=2023-12-18&interval=9&children_extrabeds=&srpvid=ce06317abd27008e&hp_visits_num=1&rt_pos_selected=1&rt_pos_selected_within_room=1&rt_selected_block_position=1&rt_num_blocks=8&rt_num_rooms=4&rt_num_blocks_per_room=%7B%2227021613%22%3A2%2C%2227021611%22%3A2%2C%2227021604%22%3A2%2C%2227021605%22%3A2%7D&rt_relevance_metric_id=9963a9e1-56eb-4e46-bf14-99ef21c9919b&rt_pageview_id=ee7c319921660109&rt_pos_final=1.1&rt_selected_total_price=672&rt_cheapest_search_price=672&from_source=hotel&nr_rooms_27021613_91470541_0_0_0=1');
  await page1.getByLabel('First name\n *').click();
  await page1.getByLabel('First name\n *').press('CapsLock');
  await page1.getByLabel('First name\n *').fill('Adewe');
  await page1.getByLabel('Last name\n *').click();
  await page1.getByLabel('Last name\n *').press('CapsLock');
  await page1.getByLabel('Last name\n *').fill('Bolatin');
  await page1.getByPlaceholder('Watch out for typos').click();
  await page1.getByPlaceholder('Watch out for typos').fill('adr52@gmail.com');
  await page1.locator('section').filter({ hasText: 'Enter your details Almost' }).click();
  await page1.getByPlaceholder('+').click();
  await page1.getByPlaceholder('+').fill('+447411012455');
  await page1.getByText('I am the main guest').click();
  await page1.getByLabel('Add your estimated arrival').selectOption('10');
  await page1.getByRole('button', { name: 'Next: Final details' }).click();
  await page1.getByLabel('Card type\n *').selectOption('Visa');
  await page1.getByLabel('Card number\n *').click();
  await page1.getByLabel('Card number\n *').fill('4137 3514 2119 6069');
  await page1.getByLabel('Card expiry date, enter year').selectOption('2025');
  await page1.getByLabel('CVC-code\n *').click();
  await page1.getByLabel('CVC-code\n *').fill('530');
  await page1.getByRole('button', { name: 'Complete booking' }).click();
  await page1.goto('https://secure.booking.com/confirmation.en-gb.html?aid=304142&label=gen173nr-1FCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQH4AQyIAgGoAgO4Aq2glqsGwAIB0gIkYWYyOTAwNGYtMTFjOS00NjgwLWJmMGItMzQxYjM4ODM1NGY42AIG4AIB&sid=586acd3f6fde3113ad886c4f095b3580&auth_key=DmlK8MgzUMP9FuxR&bp_travel_purpose=leisure&hostname=www.booking.com&pre_price=672.3&rt_num_blocks=8&source=book&srpvid=ce06317abd27008e&ua_created=0&');
  await page1.getByLabel('Close dialog').click();
  await page1.getByRole('heading', { name: 'Your booking in New York is' }).click();
});