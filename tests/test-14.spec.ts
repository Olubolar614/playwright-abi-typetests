import { test, expect } from '@playwright/test';

test('test', async ({ page }) => {
  await page.goto('https://www.booking.com/index.en-gb.html?label=gen173nr-1BCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQGIAgGoAgO4AoXCl6sGwAIB0gIkMWQwNmYzNzItYzRjNi00MWMyLWI2MDktYmNmYzlmYzcyZWI42AIF4AIB&sid=d7345107d866cd4a2041c008c5ad60c1&keep_landing=1&sb_price_type=total&');
  await page.getByRole('button', { name: 'Accept' }).click();
  await page.getByPlaceholder('Where are you going?').click();
  await page.getByPlaceholder('Where are you going?').press('CapsLock');
  await page.getByPlaceholder('Where are you going?').fill('New ');
  await page.getByPlaceholder('Where are you going?').press('CapsLock');
  await page.getByPlaceholder('Where are you going?').fill('New York');
  await page.getByRole('button', { name: 'New York New York State,' }).click();
  await page.getByLabel('18 December').click();
  await page.getByLabel('27 December').click();
  await page.getByTestId('occupancy-config').click();
  await page.locator('div').filter({ hasText: /^2$/ }).locator('button').first().click();
  await page.getByRole('button', { name: 'Done' }).click();
  await page.getByRole('button', { name: 'Search' }).click();
  await page.getByLabel('Dismiss sign in information.').click();
  //await page.getByTestId('date-display-field-end').click();
  //await page.getByText('GBPList your propertyRegisterSign inStaysFlightsFlight + HotelCar').click();
  //await page1.goto('https://www.booking.com/searchresults.en-gb.html?aid=304142&label=gen173nr-1FCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQH4AQyIAgGoAgO4AoXCl6sGwAIB0gIkMWQwNmYzNzItYzRjNi00MWMyLWI2MDktYmNmYzlmYzcyZWI42AIG4AIB&sid=d7345107d866cd4a2041c008c5ad60c1&checkin=2023-12-18&checkout=2023-12-27&dest_id=20088325&dest_type=city&srpvid=4ef759dce13e0266&track_hp_back_button=1#hotel_270216-back');
  //await page1.goto('https://www.booking.com/hotel/us/hi-new-york-hostel-nyc.en-gb.html?aid=304142&label=gen173nr-1FCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQH4AQyIAgGoAgO4AoXCl6sGwAIB0gIkMWQwNmYzNzItYzRjNi00MWMyLWI2MDktYmNmYzlmYzcyZWI42AIG4AIB&sid=d7345107d866cd4a2041c008c5ad60c1&all_sr_blocks=27021605_91470541_0_0_0;checkin=2023-12-18;checkout=2023-12-27;dest_id=20088325;dest_type=city;dist=0;group_adults=1;group_children=0;hapos=1;highlighted_blocks=27021605_91470541_0_0_0;hpos=1;matching_block_id=27021605_91470541_0_0_0;no_rooms=1;req_adults=1;req_children=0;room1=A;sb_price_type=total;sr_order=popularity;sr_pri_blocks=27021605_91470541_0_0_0__69930;srepoch=1701175759;srpvid=4ef759dce13e0266;type=total;ucfs=1&');
  await page1.goto('https://www.booking.com/hotel/us/hi-new-york-hostel-nyc.en-gb.html?aid=304142&label=gen173nr-1FCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQH4AQyIAgGoAgO4AoXCl6sGwAIB0gIkMWQwNmYzNzItYzRjNi00MWMyLWI2MDktYmNmYzlmYzcyZWI42AIG4AIB&sid=d7345107d866cd4a2041c008c5ad60c1&all_sr_blocks=27021605_91470541_0_0_0;checkin=2023-12-18;checkout=2023-12-27;dest_id=20088325;dest_type=city;dist=0;group_adults=1;group_children=0;hapos=1;highlighted_blocks=27021605_91470541_0_0_0;hpos=1;matching_block_id=27021605_91470541_0_0_0;no_rooms=1;req_adults=1;req_children=0;room1=A;sb_price_type=total;sr_order=popularity;sr_pri_blocks=27021605_91470541_0_0_0__69930;srepoch=1701175759;srpvid=4ef759dce13e0266;type=total;ucfs=1&#hotelTmpl');
  await page1.getByRole('row', { name: 'Bed in 8-Bed Women\'s' }).getByTestId('select-room-trigger').selectOption('1');
  await page1.getByRole('button', { name: 'I\'ll reserve' }).click();
  await page1.getByLabel('First name\n *').click();
  await page1.getByLabel('First name\n *').press('CapsLock');
  await page1.getByLabel('First name\n *').fill('Aderwek');
  await page1.getByLabel('Last name\n *').click();
  await page1.getByLabel('Last name\n *').press('CapsLock');
  await page1.getByLabel('Last name\n *').fill('Boyinade');
  await page1.getByPlaceholder('Watch out for typos').click();
  await page1.getByPlaceholder('Watch out for typos').fill('sefty45@gmail.com');
  await page1.locator('.bui-u-hidden\\@small').click();
  await page1.getByPlaceholder('+').click();
  await page1.getByPlaceholder('+').fill('+447411258633');
  await page1.getByText('I am the main guest').click();
  await page1.getByLabel('Add your estimated arrival').selectOption('11');
  await page1.getByRole('button', { name: 'Next: Final details' }).click();
  await page1.getByLabel('Card type\n *').selectOption('Visa');
  await page1.getByLabel('Card number\n *').click();
  await page1.getByLabel('Card number\n *').fill('4137 3514 2119 6069');
  await page1.getByLabel('Card expiry date, enter year').selectOption('2025');
  await page1.getByLabel('CVC-code\n *').click();
  await page1.getByLabel('CVC-code\n *').fill('530');
  await page1.locator('#book_credit_card div').filter({ hasText: 'CVC-code *' }).nth(1).click();
  await page1.getByRole('button', { name: 'Complete booking' }).click();
  await page1.goto('https://secure.booking.com/confirmation.en-gb.html?aid=304142&label=gen173nr-1FCAEoggI46AdIM1gEaFCIAQGYAQm4AQfIAQzYAQHoAQH4AQyIAgGoAgO4AoXCl6sGwAIB0gIkMWQwNmYzNzItYzRjNi00MWMyLWI2MDktYmNmYzlmYzcyZWI42AIG4AIB&sid=d7345107d866cd4a2041c008c5ad60c1&auth_key=v642ihDxeELawN2q&bp_travel_purpose=leisure&hostname=www.booking.com&pre_price=699.3&rt_num_blocks=6&source=book&srpvid=4ef759dce13e0266&ua_created=0&');
  await page1.getByLabel('Close dialog').click();
  await page1.getByRole('heading', { name: 'Your booking in New York is' }).click();
});